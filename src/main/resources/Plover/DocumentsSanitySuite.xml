<?xml version="1.0" encoding="UTF-8"?>
<xwikidoc>
<web>Plover</web>
<name>DocumentsSanitySuite</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent>Plover.WebHome</parent>
<creator>XWiki.Admin</creator>
<author>XWiki.Admin</author>
<customClass></customClass>
<contentAuthor>XWiki.Admin</contentAuthor>
<creationDate>1322812439000</creationDate>
<date>1322829106000</date>
<contentUpdateDate>1322829106000</contentUpdateDate>
<version>12.1</version>
<title>Document sanity suite</title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment></comment>
<minorEdit>false</minorEdit>
<syntaxId>xwiki/2.0</syntaxId>
<hidden>false</hidden>
<object>
<class>
<name>Plover.Check</name>
<customClass></customClass>
<customMapping></customMapping>
<defaultViewSheet></defaultViewSheet>
<defaultEditSheet></defaultEditSheet>
<defaultWeb></defaultWeb>
<nameField></nameField>
<validationScript></validationScript>
<assertion>
<disabled>0</disabled>
<name>assertion</name>
<number>1</number>
<prettyName>assertion</prettyName>
<size>30</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.StringClass</classType>
</assertion>
<check>
<disabled>0</disabled>
<name>check</name>
<number>2</number>
<prettyName>check</prettyName>
<rows>5</rows>
<size>40</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
</check>
</class>
<name>Plover.DocumentsSanitySuite</name>
<number>0</number>
<className>Plover.Check</className>
<guid>7bc4c6e9-dbcd-4d26-9c44-fecd25ac0a8e</guid>
<property>
<assertion>There should be no orphan document</assertion>
</property>
<property>
<check>def result = xwiki.countDocuments("where doc.parent = ''") == 0
if (!result) {
  println "**Found orphans:**"
  println xwiki.searchDocuments("where doc.parent = ''", 0, 0).join("\n")
}</check>
</property>
</object>
<object>
<class>
<name>Plover.Check</name>
<customClass></customClass>
<customMapping></customMapping>
<defaultViewSheet></defaultViewSheet>
<defaultEditSheet></defaultEditSheet>
<defaultWeb></defaultWeb>
<nameField></nameField>
<validationScript></validationScript>
<assertion>
<disabled>0</disabled>
<name>assertion</name>
<number>1</number>
<prettyName>assertion</prettyName>
<size>30</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.StringClass</classType>
</assertion>
<check>
<disabled>0</disabled>
<name>check</name>
<number>2</number>
<prettyName>check</prettyName>
<rows>5</rows>
<size>40</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
</check>
</class>
<name>Plover.DocumentsSanitySuite</name>
<number>1</number>
<className>Plover.Check</className>
<guid>ce2ba16c-5e1a-41bf-be6c-c64dcc557ad7</guid>
<property>
<assertion>There should be no document without an author</assertion>
</property>
<property>
<check>return xwiki.countDocuments("where doc.author= ''") == 0</check>
</property>
</object>
<object>
<class>
<name>Plover.Check</name>
<customClass></customClass>
<customMapping></customMapping>
<defaultViewSheet></defaultViewSheet>
<defaultEditSheet></defaultEditSheet>
<defaultWeb></defaultWeb>
<nameField></nameField>
<validationScript></validationScript>
<assertion>
<disabled>0</disabled>
<name>assertion</name>
<number>1</number>
<prettyName>assertion</prettyName>
<size>30</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.StringClass</classType>
</assertion>
<check>
<disabled>0</disabled>
<name>check</name>
<number>2</number>
<prettyName>check</prettyName>
<rows>5</rows>
<size>40</size>
<unmodifiable>0</unmodifiable>
<classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
</check>
</class>
<name>Plover.DocumentsSanitySuite</name>
<number>2</number>
<className>Plover.Check</className>
<guid>97193280-4e42-4fbe-807f-9e50a78e035a</guid>
<property>
<assertion>Check that does not compile</assertion>
</property>
<property>
<check>foo</check>
</property>
</object>
<content>A suite of tests that verify the sanity of documents in this wiki.</content></xwikidoc>
